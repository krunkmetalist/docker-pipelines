pipeline {
    agent {
        label 'mac'
    }
    options {
        buildDiscarder(
            logRotator(numToKeepStr: '10', artifactNumToKeep: '10')
        )
    }
    triggers {
        // every five minutes, look for changes.
        pollSCM('*/5 * * * *')
    }
    stages {
        agent {
            docker { image 'node:16-alpine' }
        }
        stage('test docker') {
            printenv
        }
        stage {
            sh 'node --version'
        }
    }
}